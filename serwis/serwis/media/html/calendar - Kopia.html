<script type="text/javascript">
			$(function() {
		        $( "#left-box-draggable" ).draggable({ axis: "x", containment: "#main-content" });
    		});

function showHours()
{
    if (document.getElementById('specific_time').checked)
    {
        document.getElementById('sbox_add_time_from_h').disabled = false;
        document.getElementById('sbox_add_time_from_m').disabled = false;
        document.getElementById('sbox_add_time_to_h').disabled = false;
        document.getElementById('sbox_add_time_to_m').disabled = false;         
    }
    else
    {
        document.getElementById('sbox_add_time_from_h').disabled = true;
        document.getElementById('sbox_add_time_from_m').disabled = true;
        document.getElementById('sbox_add_time_to_h').disabled = true;
        document.getElementById('sbox_add_time_to_m').disabled = true;    
    }
}

function checkType()
{
    if(selectedOption('sbox_add_type') == "4")
    {
        document.getElementById("studentsClasses").style.display = "block";
    }
    else
    {
        document.getElementById("studentsClasses").style.display = "none";
    }
}

function addEvent()
{
    var eventName = document.getElementById('fld_add_name').value;
    var eventDescription = document.getElementById('fld_add_description').value;
    var allDay = document.getElementById('all_day').checked;

    var classId = "0";
    
    var startH, startM, endH, endM;
    if(allDay)
    {
        startH = startM = endH = endM = '00';
    }
    else
    {
        startH = selectedOption('sbox_add_time_from_h');
        startM = selectedOption('sbox_add_time_from_m');
        endH = selectedOption('sbox_add_time_to_h');
        endM = selectedOption('sbox_add_time_to_m');
    }
    var eventType = selectedOption('sbox_add_type');
    if(eventType =="4")
    {
        classId = selectedOption('sbox_add_class');
    }
    
    var addToCalendar = document.getElementById('cbox_add').checked ? 'yes' : 'no';
    // Te zmiennne trzeba zczytać z kalendarza
    var eventDay = "12";
    var eventMonth = "12";
    var eventYear = "2012";
    
    dane = {};
    dane['name'] = eventName;
    dane['description'] = eventDescription;
    dane['startH'] = startH;
    dane['startM'] = startM;
    dane['endH'] = endH;
    dane['endM'] = endM;
    dane['type'] = eventType;
    dane['class'] = classId;
    dane['day'] = eventDay;
    dane['month'] = eventMonth;
    dane['year'] = eventYear;
    dane['add'] = addToCalendar;
    
    sendEventData(dane);
    
}

function sendEventData(dane)
{
	$.post("addEvent", dane, function(data)
	{
		if (data == 'Fail')
		{
			alert('Blad');
		}
		else if(data == 'Ok')
		{
			alert('Ok');
		}
	});
}
    	</script>
				<div id="left-box-draggable">
					<div id="calendar-scroll">
						
						<div id="calendar-event-details">
							<p>Szczegóły wydarzenia:</p>
							<table class="table-calendar">
								<!-- tu za nazwą proponuję przycisk do zmiany nazwy na własną a za nim znak zapytania z wytłumaczeniem.
								jak się kliknie zmianę to znika linijka ze sztywną nazwa i pojawia się ta niżej czy jak?
								nie wiem czy będzie działać dymek z podpowiedzią w znaku zapytania... -->
								<tr>
									<td class="table-left-side-calendar">Nazwa:</td>
									<td class="table-right-side">[nazwa] <img src="static/img/.png" alt="Zmień nazwę" width="12" height="12" /> <img src="static/img/.png" alt="" width="12" height="12" /></td>
								</tr>
								<!-- za polem przycisk do zapisywania? wtedy by zniknęła edycja i znów pojawił się tytuł na sztywno?
								wiem że to kombinowanie ale nie wiem jak inaczej to zrobić... i nie wiem ile z tym zachodu by wyszło -->
								<tr>
									<td class="table-left-side-calendar">Nazwa:</td>
									<td class="table-right-side"><input class="calendar-input-smaller" type="text" name="fld_change_name" id="fld_change_name" value="" /> <img src="static/img/.png" alt="" width="12" height="12" /></td>
								</tr>
								<tr>
									<td class="table-left-side-calendar">Opis:</td>
									<td class="table-right-side">[opis]</td>
								</tr>
							</table>
							Od: [godz.] Do: [godz.]
							<br />
							(lub wydarzenie całodniowe)
							<br />
							Rodzaj: [prywatne itp.]
						</div>
						
						<div id="calendar-add-event">
							<p>Dodawanie nowego wydarzenia:</p>
							<table class="table-calendar">
								<tr>
									<td class="table-left-side-calendar">Nazwa:</td>
									<td class="table-right-side"><input class="calendar-input" type="text" name="fld_add_name" id="fld_add_name" value="" /></td>
								</tr>
								<tr>
									<td class="table-left-side-calendar">Opis:</td>
									<td class="table-right-side"><input class="calendar-input" type="text" name="fld_add_description" id="fld_add_description" value="" /></td>
								</tr>
							</table>
							<input type="radio" name="radio_add_day_event" id = "all_day" value="all_day" onclick="showHours();" checked/>Wydarzenie całodniowe
							<br />
							<input type="radio" name="radio_add_day_event" id = "specific_time" value="specific_time" onclick="showHours();" />Wydarzenie kilkugodzinne
							<br />
							Od:
							<select id="sbox_add_time_from_h" disabled="disabled">
								<option value= '00'>0</option>
                                <option value= '01'>1</option>
								<option value= '02'>2</option>
                                <option value= '03'>3</option>
                                <option value= '04'>4</option>
                                <option value= '05'>5</option>
                                <option value= '06'>6</option>
                                <option value= '07'>7</option>
                                <option value= '08'>8</option>
                                <option value= '09'>9</option>
                                <option value= '10'>10</option>
                                <option value= '11'>11</option>
                                <option value= '12'>12</option>
                                <option value= '13'>13</option>
                                <option value= '14'>14</option>
                                <option value= '15'>15</option>
                                <option value= '16'>16</option>
                                <option value= '17'>17</option>
                                <option value= '18'>18</option>
                                <option value= '19'>19</option>
                                <option value= '20'>20</option>
                                <option value= '21'>21</option>
                                <option value= '22'>22</option>
                                <option value= '23'>23</option>
                                
                            </select>
							<select id="sbox_add_time_from_m" disabled="disabled">
                                <option value= '00'>0</option>
                                <option value= '01'>1</option>
								<option value= '02'>2</option>
                                <option value= '03'>3</option>
                                <option value= '04'>4</option>
                                <option value= '05'>5</option>
                                <option value= '06'>6</option>
                                <option value= '07'>7</option>
                                <option value= '08'>8</option>
                                <option value= '09'>9</option>
                                <option value= '10'>10</option>
                                <option value= '11'>11</option>
                                <option value= '12'>12</option>
                                <option value= '13'>13</option>
                                <option value= '14'>14</option>
                                <option value= '15'>15</option>
                                <option value= '16'>16</option>
                                <option value= '17'>17</option>
                                <option value= '18'>18</option>
                                <option value= '19'>19</option>
                                <option value= '20'>20</option>
                                <option value= '21'>21</option>
                                <option value= '22'>22</option>
                                <option value= '23'>23</option>
                                <option value= '24'>24</option>
								<option value ='25'>25</option>
                                <option value ='26'>26</option>
                                <option value ='27'>27</option>
                                <option value ='28'>28</option>
                                <option value ='29'>29</option>
                                <option value ='30'>30</option>
                                <option value ='31'>31</option>
                                <option value ='32'>32</option>
                                <option value ='33'>33</option>
                                <option value ='34'>34</option>
                                <option value ='35'>35</option>
                                <option value ='36'>36</option>
                                <option value ='37'>37</option>
                                <option value ='38'>38</option>
                                <option value ='39'>39</option>
                                <option value ='40'>40</option>
                                <option value ='41'>41</option>
                                <option value ='42'>42</option>
                                <option value ='43'>43</option>
                                <option value ='44'>44</option>
                                <option value ='45'>45</option>
                                <option value ='46'>46</option>
                                <option value ='47'>47</option>
                                <option value ='48'>48</option>
                                <option value ='49'>49</option>
                                <option value ='50'>50</option>
                                <option value ='51'>51</option>
                                <option value ='52'>52</option>
                                <option value ='53'>53</option>
                                <option value ='54'>54</option>
                                <option value ='55'>55</option>
                                <option value ='56'>56</option>
                                <option value ='57'>57</option>
                                <option value ='58'>58</option>
                                <option value ='59'>59</option>
							</select>
							<br />
							Do:
							<select id="sbox_add_time_to_h" disabled="disabled">
								<option value= '00'>0</option>
                                <option value= '01'>1</option>
								<option value= '02'>2</option>
                                <option value= '03'>3</option>
                                <option value= '04'>4</option>
                                <option value= '05'>5</option>
                                <option value= '06'>6</option>
                                <option value= '07'>7</option>
                                <option value= '08'>8</option>
                                <option value= '09'>9</option>
                                <option value= '10'>10</option>
                                <option value= '11'>11</option>
                                <option value= '12'>12</option>
                                <option value= '13'>13</option>
                                <option value= '14'>14</option>
                                <option value= '15'>15</option>
                                <option value= '16'>16</option>
                                <option value= '17'>17</option>
                                <option value= '18'>18</option>
                                <option value= '19'>19</option>
                                <option value= '20'>20</option>
                                <option value= '21'>21</option>
                                <option value= '22'>22</option>
                                <option value= '23'>23</option>
							</select>
							<select id="sbox_add_time_to_m" disabled="disabled">
                                <option value= '00'>0</option>
                                <option value= '01'>1</option>
								<option value= '02'>2</option>
                                <option value= '03'>3</option>
                                <option value= '04'>4</option>
                                <option value= '05'>5</option>
                                <option value= '06'>6</option>
                                <option value= '07'>7</option>
                                <option value= '08'>8</option>
                                <option value= '09'>9</option>
                                <option value= '10'>10</option>
                                <option value= '11'>11</option>
                                <option value= '12'>12</option>
                                <option value= '13'>13</option>
                                <option value= '14'>14</option>
                                <option value= '15'>15</option>
                                <option value= '16'>16</option>
                                <option value= '17'>17</option>
                                <option value= '18'>18</option>
                                <option value= '19'>19</option>
                                <option value= '20'>20</option>
                                <option value= '21'>21</option>
                                <option value= '22'>22</option>
                                <option value= '23'>23</option>
                                <option value= '24'>24</option>
								<option value ='25'>25</option>
                                <option value ='26'>26</option>
                                <option value ='27'>27</option>
                                <option value ='28'>28</option>
                                <option value ='29'>29</option>
                                <option value ='30'>30</option>
                                <option value ='31'>31</option>
                                <option value ='32'>32</option>
                                <option value ='33'>33</option>
                                <option value ='34'>34</option>
                                <option value ='35'>35</option>
                                <option value ='36'>36</option>
                                <option value ='37'>37</option>
                                <option value ='38'>38</option>
                                <option value ='39'>39</option>
                                <option value ='40'>40</option>
                                <option value ='41'>41</option>
                                <option value ='42'>42</option>
                                <option value ='43'>43</option>
                                <option value ='44'>44</option>
                                <option value ='45'>45</option>
                                <option value ='46'>46</option>
                                <option value ='47'>47</option>
                                <option value ='48'>48</option>
                                <option value ='49'>49</option>
                                <option value ='50'>50</option>
                                <option value ='51'>51</option>
                                <option value ='52'>52</option>
                                <option value ='53'>53</option>
                                <option value ='54'>54</option>
                                <option value ='55'>55</option>
                                <option value ='56'>56</option>
                                <option value ='57'>57</option>
                                <option value ='58'>58</option>
                                <option value ='59'>59</option>
							</select>
							</div>
							Rodzaj:
							<select id="sbox_add_type" onchange="checkType();">
								<option value = "7">prywatno-pub</option>
                                <option value = "6">prywatne</option>
                                <option value = "5">rocznikowe</option>
								<option value = "4">grupa</option>
								<option value = "3">kierunek</option>
								<option value = "2">wydział</option>
								<option value = "1">uczelnia</option>
							</select>
                            
                            <div id = "studentsClasses" style="display: none;">
                                <select id="sbox_add_class">
                                {% for g in grupy %}
                                    <option value = "{{g.id}}">{{g.kurs.nazwa}}, {{g.kurs.rodzaj}}</option>
                                {% endfor %}
                                </select>
                            </div>
                            
                            <input type="checkbox" name="cbox_add" id="cbox_add" checked/>
							<p><input class="calendar-submit" type="button" name="btn_add_event" id="btn_add_event" value="Dodaj" onclick="addEvent();" /></p>
						</div>
						
						<div id="calendar-edit-event">
							<p>Edycja wydarzenia:</p>
							<table class="table-calendar">
								<tr>
									<td class="table-left-side-calendar">Nazwa:</td>
									<td class="table-right-side"><input class="calendar-input" type="text" name="fld_edit_name" id="fld_edit_name" value="" /></td>
								</tr>
								<tr>
									<td class="table-left-side-calendar">Opis:</td>
									<td class="table-right-side"><input class="calendar-input" type="text" name="fld_edit_description" id="fld_edit_description" value="" /></td>
								</tr>
							</table>
							<input type="radio" name="radio_edit_day_event" value="all_day" />Wydarzenie całodniowe
							<br />
							<input type="radio" name="radio_edit_day_event" value="specific_time" />Wydarzenie kilkugodzinne
							<br />
							Od:
							<select id="sbox_edit_time_from_h">
								<option>0</option>
								<option>1</option>
								<option>...</option>
								<option>22</option>
								<option>23</option>
							</select>
							<select id="sbox_edit_time_from_m">
								<option>00</option>
								<option>15</option>
								<option>30</option>
								<option>45</option>
							</select>
							<br />
							Do:
							<select id="sbox_edit_time_to_h">
								<option>0</option>
								<option>1</option>
								<option>...</option>
								<option>22</option>
								<option>23</option>
							</select>
							<select id="sbox_edit_time_to_m">
								<option>00</option>
								<option>15</option>
								<option>30</option>
								<option>45</option>
							</select>
							<br />
							Rodzaj:
							<select id="sbox_edit_type">
								<option>prywatne</option>
								<option>grupa</option>
								<option>kierunek</option>
								<option>wydział</option>
								<option>uczelnia</option>
							</select>
							<p><input class="calendar-submit" type="submit" name="btn_edit_event" id="btn_edit_event" value="Zmień" /></p>
						</div>
						
						<!-- lista wszystkich wydarzeń z jakiegoś czasu... nie wiem jeszcze jak to zrobić
						<div id="calendar-all-events">
							<div class="calendar-event">
								1. data, czas, tytuł, kto dodał, opis w dymku?
							</div>
							<div class="calendar-event">
								2. data, czas, tytuł, kto dodał, opis w dymku?
							</div>
						</div>-->
						
					</div>
				</div>
				<div id="right-box-calendar">
					<div id="calendar-content">
						
						<!--ten wybór kalendarza niech zostanie tu narazie, potem będzie na górnym pasku.
						te selecty pod pierwszym mają się pojawiać gdy będzie wybrany dany typ kalendarza -->
						<p><b>Wybór kalendarza:</b></p>
						<div id="calendar-view-type">
							<select class="calendar-view">
								<option>Semestralny</option>
								<option>Miesięczny</option>
								<option>Tygodniowy</option>
							</select>
						</div>
						<br />
						<div id="calendar-view-sem">
							<select class="calendar-view">
								<option>Zimowy</option>
								<option>Letni</option>
							</select>
						</div>
						<br />
						<div id="calendar-view-monthly">
							<select class="calendar-view">
								<option>Październik</option>
								<option>Listopad</option>
								<option>itd.</option>
							</select>
						</div>
						<br />
						<div id="calendar-view-weekly">
							<select class="calendar-view">
								<option>I: 01.10-07.10</option>
								<option>II: 08.10-14.10</option>
								<option>itd.</option>
							</select>
						</div>
						<br />
						
						<!-- to póki co zostaw
						<a href="#" class="calendar-edit"><img src="static/img/.png" alt="" title="Edytuj wydarzenie" width="10" height="10" /></a>
						<a href="#" class="calendar-delete"><img src="static/img/.png" alt="" title="Usuń wydarzenie" width="10" height="10" /></a> -->
						
					</div>
				</div>
